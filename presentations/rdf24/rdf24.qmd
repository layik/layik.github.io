---
engine: knitr
format:
  revealjs:
    slide-number: c/t
    width: 1600
    height: 1024
    logo: "https://comms.leeds.ac.uk/wp-content/uploads/sites/51/2021/04/Visual-identity-section-images--e1618925864440-250x81.png"
    footer: "[University of Leeds](https://leeds.ac.uk)"
    css: ["style.css"]
    theme: simple
    echo: true
---

# Knowledge Graphs in the age of ChatGPT

<h3 style="text-align:center;"> LLMs bringing back Knowledge Graphs</h3>

Layik Hama

School of Computing

March 2024

https://layik.github.io/presentations/rdf24/rdf24.html

## Overview
::: columns
::: {.column width="40%"}
- Brief introduction (~ 3 mins)
- Brief introduction to Knowledge Graphs (~ 10 mins)
- Reproducing www.freebase.com using Blazegraph (~ 15 mins)
- Role of RDF in the age of Transformers (~ 10 mins)
- Q&A (~10 mins)

> DALL·E 2024-02-24 16 25 31: A simple abstract illustration showing the integration of AI models like GPT or ChatGPT with knowledge graphs such as Freebase or Google Knowledge Graph
:::
::: {.column width="60%"}
![](https://github-production-user-asset-6210df.s3.amazonaws.com/408568/307536065-942f9123-984e-4b8e-b898-f0fc05ba1cde.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240229%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240229T141100Z&X-Amz-Expires=300&X-Amz-Signature=42336be6b36cd6eb708579b1092fe68c30f2440b316558b9406d94f0699ee58c&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=139284290){width=90%}
:::
:::

# Brief introduction
<iframe style="text-align: center; width: 80vw; height: 80vh; border: none;" src="https://query.wikidata.org/embed.html#%23A%20network%20of%20Drug-disease%20interactions%20on%20infectious%20diseases%20%28Source%3A%20Disease%20Ontology%2C%20NDF-RT%20and%20ChEMBL%29%0A%23defaultView%3AGraph%0ASELECT%20DISTINCT%20%3Fitem%20%3FitemLabel%20%3Frgb%20%3Flink%0AWHERE%0A%7B%0A%20%20VALUES%20%3Ftoggle%20%7B%20true%20false%20%7D%0A%20%20%0A%20%20%3Fdisease%20wdt%3AP699%20%3Fdoid%3B%0A%20%20%20%20%20%20%20%20%20%20%20wdt%3AP279%2B%20wd%3AQ12206%3B%20%20%23%20Diabetes%20mellitus%0A%20%20%20%20%20%20%20%20%20%20%20wdt%3AP2176%20%3Fdrug.%0A%20%20%3Fdrug%20rdfs%3Alabel%20%3FdrugLabel.%0A%20%20%20%20FILTER%28LANG%28%3FdrugLabel%29%20%3D%20%22en%22%29.%0A%20%20%3Fdisease%20rdfs%3Alabel%20%3FdiseaseLabel.%0A%20%20%20%20FILTER%28LANG%28%3FdiseaseLabel%29%20%3D%20%22en%22%29.%0A%20%20%0A%20%20BIND%28IF%28%3Ftoggle%2C%3Fdisease%2C%3Fdrug%29%20AS%20%3Fitem%29.%0A%20%20BIND%28IF%28%3Ftoggle%2C%3FdiseaseLabel%2C%3FdrugLabel%29%20AS%20%3FitemLabel%29.%0A%20%20BIND%28IF%28%3Ftoggle%2C%229ecae1%22%2C%223182bd%22%29%20AS%20%3Frgb%29.%0A%20%20BIND%28IF%28%3Ftoggle%2C%22%22%2C%3Fdisease%29%20AS%20%3Flink%29.%0A%7D%0ALIMIT%20100%0A" referrerpolicy="origin" sandbox="allow-scripts allow-same-origin allow-popups" ></iframe>

## My Involvement with Knowledge Graphs
::: columns
::: {.column width="40%"}
- In 2015 for a year
- Came back to LIDA in 2018
- Worked on TGVE

> Hama, Layik, Roger Beecham, and Nik Lomax. "TGVE: a Tool for Analysis and Visualization of Geospatial Data." (2023).
- Working on DynAIRx since Feb 2023

- With the success of GPT (ChatGPT) the interest renewed

:::
::: {.column width="60%"}

![image](./figures/fb-domain.png)

:::
:::

# Brief introduction to Knowledge Graphs
<h3 style="text-align: center"> via www.freebase.com</h3>

## Metaweb: timeline and people
::: columns
::: {.column width="40%"}
- Important people:
  - Veda Hlubinka-Cook: [wp:Veda Hlubinka-Cook](https://en.wikipedia.org/wiki/Veda_Hlubinka-Cook)
  - John Giannadrea: [wp:John_Giannandrea](https://en.wikipedia.org/wiki/John_Giannandrea)
  - Daniel Hillis: [wp:Danny_Hillis](https://en.wikipedia.org/wiki/Danny_Hillis)
  - Kurt Bollacker: [wp:Kurt_Bollacker](https://en.wikipedia.org/wiki/Kurt_Bollacker)
- Startup: 2005
- Acquired by Google in 2010

:::
::: {.column width="60%"}
![](https://i.ebayimg.com/images/g/uR8AAOSwQI1lj6xJ/s-l1600.jpg){fig-align=center}
~ D Hillis
:::
:::

## www.freebase.com
<iframe style="background-color:grey" width="100%" height="90%" src="https://www.youtube.com/embed/Wa__x-wUKWw?si=B0EF0Gn9ot2OpqTi&amp;start=1200" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

https://en.wikipedia.org/wiki/Alphabet_of_human_thought

## Tripples (briefly) in RDF

- Subject - predicate - Object
- Layik - is - person .
- Person - is - word .
- uri://people#LayikHama <span style="color:blue">http://xmlns.com/foaf/0.1/knows</span> uri://people#RoyRuddle

```{dot}
//| echo: false
//| caption: RDF triples
digraph RDF {
    "Layik" -> "Person" [label="is"];
    "Person" -> "Word" [label="is"];
    "is" -> "is" [label="hasLabel"];
    "is" -> "EN" [label="labelLanguage"];
    "uri://people#LayikHama" -> "uri://people#RoyRuddle" [label="http://xmlns.com/foaf/0.1/knows"];
}

```

# Reproducing www.freebase.com using Blazegraph

## Initial work
::: columns
::: {.column width="40%"}
- Understanding the model behind www.freebase.com
- Find the right tripple store (graph database)
- Workout how we can interact with it (Metaphactory)
- Build an editing interface (custom React)
- Learn [SPARQL](https://en.wikipedia.org/wiki/SPARQL) to query the graph

:::
::: {.column width="60%"}
![image](./figures/fb-domain.png)
[archive.org](https://web.archive.org/web/20141223123504/http://www.freebase.com/type/link?schema=)
:::
:::

## Understanding the model (1)
![](./figures/fb-domain.png){fig-align=center}

[archive.org](https://web.archive.org/web/20141223123504/http://www.freebase.com/type/link?schema=)

## Understanding the model (2)
::: columns
::: {.column width="40%"}
- That Freebase is schema-less
- A Linux like directory system is used
  - /root
     - /Universe
       - /Galaxy
- Specific terminology like topics and properties
:::
::: {.column width="60%"}

```{dot}
//| echo: false
//| caption: RDF triples
digraph RDF {
    "type/object1" -> "type/object2" [label="type/link"];
}

```
:::
:::

## Freebase data taster

<a href="https://asciinema.org/a/HIt2Va2YWVe1qy3boTukcbgQe" target="_blank"><img src="https://asciinema.org/a/HIt2Va2YWVe1qy3boTukcbgQe.svg" /></a>

## Blazegraph for freebase.com
::: columns
::: {.column width="40%"}
- I had a chat with Bradley Bebee ([LinkedIn](https://www.linkedin.com/in/bradley-bebee-a15764b/))
- We agreed on roughly what could get us started
  - No images and any images coming would be from Wikipedia
  - Workout the tech-stack that we would use
  - Agree on the amount of data (tripples) to store

:::
::: {.column width="60%"}
![](https://www.zdnet.com/a/img/2018/05/31/c0a17943-1c8f-4013-a9b9-6d02636ba99b/awsneptune.jpg){fig-align="center"}
:::
:::

## Practical requirements
::: columns
::: {.column width="40%"}
- Communications and teams (US, Canada and Germany)
- Infrastructure (128GB server) to get us started
  - Future sharding and scaling
  - Plans for possible small data centre
- Timeline etc.
:::
::: {.column width="60%"}

:::
:::

# Knowledge Graphs in the age of GPTs

## Introduce RAG
::: columns
::: {.column width="40%"}
- The idea of "etrieval-augmented generation"
- Before GPTs
- IBM [blog](https://research.ibm.com/blog/retrieval-augmented-generation-RAG?trk=article-ssr-frontend-pulse_little-text-block) about the concept if interested.
> “LLMs know how words relate statistically, but not what they mean.”
- The original paper (Lewis et. al. 2020)

:::
::: {.column width="60%"}
![](./figures/rag-lewis-et-al-2020.png){fig-align=center}

:::
:::

## Generation of KGs (more)
::: columns
::: {.column width="60%"}
- Genearing Knowledge Graphs and using them later

- A paper to read is (Mihindukulasooriya et. al 2023) and
  - its codebase: https://github.com/cenguix/Text2KGBench



:::
::: {.column width="40%"}
<img src="https://github.com/layik/kurdi/assets/408568/f3df1b3c-b5b4-4566-a9c9-66a3f4589851" alt="Image from Mihindukulasooriya et al 2023"/>
Image from Mihindukulasooriya et al 2023
:::
:::

## Enhancing LLMs
::: columns
::: {.column width="60%"}
- Similar to/following RAG
- Now we are trying to fix the issues during training
- A paper to read: She et. al. 2023

:::
::: {.column width="40%"}
<img src="https://github.com/layik/layik.github.io/assets/408568/5dbe9ed0-12e2-44aa-8733-af09c00384ea" />
Image from Shi et al 2023

:::
:::

## Fact checking?
::: columns
::: {.column width="40%"}

- Fact checking our LLMs#

> Structured data can act as a fact-checking mechanism and provide a reference for the model to verify information. ~ Agrawal et. al. 2023

- Taxonomy of "KG-enhanced" LLMs
- KGs seem to be "the solution"
- Why is Bard not better? Is Google using Google Knowledge Graph somehow to make Bard better?

:::
::: {.column width="60%"}
![](./figures/agrawal-et-al-2023.png){fig-align=center}
:::
:::

## Final thoughts
::: columns
::: {.column width="40%"}

- It is much easier to build knowledge graphs with LLMs
- We discussed the interplay between LLMs and Knowledge Graphs
- Could we think about new models of structuring knowledge?
- As for RDF, can we think about new ways of storing, processing and retrieving semantic data?

:::
::: {.column width="60%"}
![](https://github-production-user-asset-6210df.s3.amazonaws.com/408568/307536065-942f9123-984e-4b8e-b898-f0fc05ba1cde.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAVCODYLSA53PQK4ZA%2F20240229%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20240229T141100Z&X-Amz-Expires=300&X-Amz-Signature=42336be6b36cd6eb708579b1092fe68c30f2440b316558b9406d94f0699ee58c&X-Amz-SignedHeaders=host&actor_id=0&key_id=0&repo_id=139284290){width=90%}
:::
:::

## References
- Lewis, Patrick, et al. "Retrieval-augmented generation for knowledge-intensive nlp tasks." Advances in Neural Information Processing Systems 33 (2020): 9459-9474.
- Mihindukulasooriya, Nandana, et al. "Text2kgbench: A benchmark for ontology-driven knowledge graph generation from text." International Semantic Web Conference. Cham: Springer Nature Switzerland, 2023.
- Shi, Xiao, et al. "Hallucination mitigation in natural language generation from large-scale open-domain knowledge graphs." Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing. 2023.
- Agrawal, Garima, et al. "Can knowledge graphs reduce hallucinations in LLMs?: A survey." arXiv preprint arXiv:2311.07914 (2023).

<!-- ## Step 3
::: columns
::: {.column width="40%"}

:::
::: {.column width="60%"}

:::
::: -->

# Q & A
